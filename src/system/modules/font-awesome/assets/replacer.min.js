function IconReplacer(target,addSpace){var self=this;var target=target;var addSpace=(addSpace!==null)?addSpace:false;var styleIcons=new Array();var imageIcons=new Array();self.addImageIcon=function(iconClass,test,options){var opt=new Object();opt.addClass=(options&&typeof options.addClass!="undefined")?options.addClass:null;opt.onlyHide=(options&&typeof options.onlyHide!="undefined")?options.onlyHide:null;opt.size=(options&&typeof options.onlyHide!="undefined")?options.size:"large";imageIcons.push(new Array(iconClass,test,opt));};self.addStyleIcon=function(targetClass,iconClass,options){var opt=new Object();opt.addClass=(options&&typeof options.addClass!="undefined")?options.addClass:null;opt.position=(options&&typeof options.position!="undefined")?options.position:null;opt.removeClass=(options&&typeof options.removeClass!="undefined")?options.position:null;opt.size=(options&&typeof options.onlyHide!="undefined")?options.size:"large";styleIcons.push(new Array(targetClass,iconClass,opt));};self.listenTo=function(obj,event){obj.addEvent(event,self.run);};self.run=function(){var elements=$$(target);elements.each(function(element){var icon=element.getElement("i");if(icon===null){icon=element.getNext("i");}if(icon!==null){icon.addClass("fa");return;}for(var i=0;i<imageIcons.length;i++){if(icon!==null&&!imageIcons[i][2].onlyHide){break;}if(imageIcons[i][1]!==null){if(element.get("tag")!="img"){var image=element.getElement("img");if(image===null){continue;}}else{image=element;}if(!new String(image.get("src")).test(imageIcons[i][1],"i")){continue;}if(icon!==null){console.log("icon updated "+imageIcons[i][0]);icon.set("class","fa-"+imageIcons[i][0]);icon.addClass("fa");icon.addClass("fa-"+imageIcons[i][2].size);if(imageIcons[i][2].addClass){icon.addClass(imageIcons[i][2].addClass);}}else{createIcon(imageIcons[i][0],imageIcons[i][2]).inject(image,"after");element.addClass("icon");}if(imageIcons[i][2].onlyHide){image.hide();}else{image.destroy();}break;}var img=element.getElement("img");if(img!==null){createIcon(imageIcons[i][0],imageIcons[i][2]).inject(element,"after");img.destroy();}break;}for(var i=0;i<styleIcons.length;i++){if(!element.hasClass(styleIcons[i][0])){continue;}if(styleIcons[i][2].removeClass!==null){element.removeClass(styleIcons[i][2].removeClass);}createIcon(styleIcons[i][1],styleIcons[i][2]).inject(element,styleIcons[i][2].position?styleIcons[i][2].position:"top");element.addClass("icon");break;}});};var createIcon=function(className,options){var icon=new Element("i");icon.addClass("fa-"+className);icon.addClass("fa");if(addSpace){icon.set("html","&nbsp;");}if(options.addClass){icon.addClass(options.addClass);}if(!options.size){icon.addClass("fa-large");}else{icon.addClass("fa-"+options.size);}return icon;};}window.addEvent("domready",function(){Object.each(replaceIconsConfig,function(config,key){var replacer=new IconReplacer(config.target,config.addSpace);if(typeof config.imageIcons!=="undefined"){config.imageIcons.each(function(image){replacer.addImageIcon(image[0],image[1],image[2]);});}if(typeof config.styleIcons!=="undefined"){config.styleIcons.each(function(style){replacer.addStyleIcon(style[1],style[0],style[2]);});}if(typeof config.listenTo!=="undefined"){config.listenTo.each(function(listen){if(listen[0]=="window"){replacer.listenTo(window,listen[1]);}else{if(listen[0]=="document"){replacer.listenTo(document,listen[1]);}else{replacer.listenTo($$(listen[0]),listen[1]);}}});}});$$("#tl_navigation .tl_level_1_group").addEvent("click",function(){var icon=this.getElement("i");if(icon.hasClass("fa-plus-circle")){icon.addClass("fa-minus-circle");icon.removeClass("fa-plus-circle");}else{icon.removeClass("fa-minus-circle");icon.addClass("fa-plus-circle");}});$$("#tl_navigation .tl_level_1_group").each(function(group){var icon=group.getElement("i");if(icon!=undefined){if(new String(icon.getPrevious("img").get("src")).test("Minus")){icon.addClass("fa-minus-circle");icon.removeClass("fa-plus-circle");}else{icon.removeClass("fa-minus-circle");icon.addClass("fa-plus-circle");}}});});